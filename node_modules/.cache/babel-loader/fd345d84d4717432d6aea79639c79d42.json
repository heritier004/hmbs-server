{"ast":null,"code":"var db=require(\"../database/db\");var movieController=require(\"./movieController\");var getSchedule=function getSchedule(req,res,next){req.params.id;db.query(\"select * from schedule where movieid ='\".concat(req.params.id,\"'\"),function(err,result){if(err)console.log(err);else{res.send(result);}});};var getMovie=function getMovie(req,res,next){console.log(req.params);db.query(\"select movie.title from schedule inner join movie on schedule.movieid = movie.id where schedule.id = \".concat(req.params.scheduleId),function(err,result){if(err){console.log(err);}else{console.log(result);res.send(result);}});};module.exports={getSchedule:getSchedule,getMovie:getMovie};","map":{"version":3,"names":["db","require","movieController","getSchedule","req","res","next","params","id","query","err","result","console","log","send","getMovie","scheduleId","module","exports"],"sources":["/Users/heritier/repos/github/hmbs-server/src/controller/scheduleController.js"],"sourcesContent":["const db = require(\"../database/db\");\nconst movieController = require(\"./movieController\");\nconst getSchedule = (req,res,next)=>{\n    req.params.id\n\n db.query(`select * from schedule where movieid ='${req.params.id}'`,(err,result)=>{\n     if(err)\n       console.log(err);\n     else{\n          res.send(result);\n     }\n        \n\n })};\n\n const getMovie =(req,res,next)=>{\n  console.log(req.params)\n  db.query(`select movie.title from schedule inner join movie on schedule.movieid = movie.id where schedule.id = ${req.params.scheduleId}`,(err,result)=>{\n    if(err){\n      console.log(err);\n    }else{\n      console.log(result);\n    res.send(result);\n    }\n  })\n }\n\n module.exports ={getSchedule :getSchedule,getMovie:getMovie}"],"mappings":"AAAA,GAAMA,GAAE,CAAGC,OAAO,CAAC,gBAAD,CAAlB,CACA,GAAMC,gBAAe,CAAGD,OAAO,CAAC,mBAAD,CAA/B,CACA,GAAME,YAAW,CAAG,QAAdA,YAAc,CAACC,GAAD,CAAKC,GAAL,CAASC,IAAT,CAAgB,CAChCF,GAAG,CAACG,MAAJ,CAAWC,EAAX,CAEHR,EAAE,CAACS,KAAH,kDAAmDL,GAAG,CAACG,MAAJ,CAAWC,EAA9D,MAAoE,SAACE,GAAD,CAAKC,MAAL,CAAc,CAC9E,GAAGD,GAAH,CACEE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EADF,IAEI,CACCL,GAAG,CAACS,IAAJ,CAASH,MAAT,EACJ,CAGJ,CARD,EAQG,CAXJ,CAaC,GAAMI,SAAQ,CAAE,QAAVA,SAAU,CAACX,GAAD,CAAKC,GAAL,CAASC,IAAT,CAAgB,CAC/BM,OAAO,CAACC,GAAR,CAAYT,GAAG,CAACG,MAAhB,EACAP,EAAE,CAACS,KAAH,gHAAiHL,GAAG,CAACG,MAAJ,CAAWS,UAA5H,EAAyI,SAACN,GAAD,CAAKC,MAAL,CAAc,CACrJ,GAAGD,GAAH,CAAO,CACLE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACD,CAFD,IAEK,CACHE,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACFN,GAAG,CAACS,IAAJ,CAASH,MAAT,EACC,CACF,CAPD,EAQA,CAVD,CAYAM,MAAM,CAACC,OAAP,CAAgB,CAACf,WAAW,CAAEA,WAAd,CAA0BY,QAAQ,CAACA,QAAnC,CAAhB"},"metadata":{},"sourceType":"module"}